/*
 * Copyright (C) 2019 Spreadtrum Communications Inc.
 *
 * This software is licensed under the terms of the GNU General Public
 * License version 2, as published by the Free Software Foundation, and
 * may be copied, distributed, and modified under those terms.

 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 */

#ifndef __PCIE_TEST_H__
#define __PCIE_TEST_H__

#include <linux/kernel.h>

/* base addr 0x4000 0000 */
/* set/clear register */
#define AHB_EB0		0x130004
#define EDMA_EB		BIT(7)
#define PCIE_EB		BIT(11)

/*
  ADDRESS  |   VALUE
-----------+-----------
0x40160000 | 0x7700   --->src_outstanding_num(7)+ dst_outstanding_num(7)
0x40160004 | 0xbe91  --->int_raw_status(which chn have int)
0x40160008 | 0x0
0x4016000c | 0x0
0x40160010 | 0x4000000  ---> axi read port receive data ready
0x40160014 | 0x0
0x40160018 | 0x0
0x4016001c | 0x0
0x40160020 | 0x0
0x40160024 | 0x0
0x40160028 | 0x0
0x4016002c | 0x0
0x40160030 | 0x0
0x40160034 | 0x0
0x40160038 | 0x40180948  -->msix_reg_addr_low
0x4016003c | 0x0 ---> msix_value
*/
#define DMA_PAUSE			0x160000
#define DMA_INT_RAW_STATUS		0x160004
#define DMA_INT_MASK_STATUS		0x160008
#define DMA_REQ_STATUS		0x16000c
#define DMA_DEBUG_STATUS		0x160010
#define DMA_ARB_SEL_STATUS		0x160014
#define DMA_CHN_ARPROT		0x160020
#define DMA_CHN_AWPROT		0x160024
#define DMA_CHN_PROT_FLAG		0x160028
#define DMA_GLB_PROT			0x16002c
#define DMA_REQ_CID_PROT		0x160030
#define DMA_SYNC_SEC_NORMAL		0x160034
#define DMA_PCIE_MSIX_REG_ADDR_LO	0x160038
#define DMA_PCIE_MSIX_VALUE		0x16003c

#define CHN_DMA_INT(n)			(0x161000 + n * 0x40)
#define RF_CHN_EB_BIT			BIT(0)
#define RF_CHN_LIST_MODE_BIT		(BIT(4) | BIT(5))
#define RF_CHN_INT_TO_AP_TYPE_BIT	BIT(6)
#define RF_CHN_DIR_BIT			BIT(7)
#define RF_CHN_SWT_MODE		(BIT(8) | BIT(9))
#define RF_CHN_PRIORITY		(BIT(10) | BIT(11))
#define RF_DONT_WAIT_BDONE		BIT(12)
#define RF_CHN_REQ_MODE		BIT(13)

#define CHN_DMA_TX_REQ(n)		(0x161004 + n * 0x40)
#define CHN_DMA_RX_REQ(n)		(0x161008 + n * 0x40)
#define CHN_DMA_CFG(n)			(0x16100c + n * 0x40)
#define CHN_TRANS_LEN(n)		(0x161010 + n * 0x40)
#define CHN_PTR_HIGH(n)			(0x161014 + n * 0x40)
#define CHN_TX_NEXT_DSCR_PTR_LOW(n)	(0x161018 + n * 0x40)
#define CHN_RX_NEXT_DSCR_PTR_LOW(n)	(0x16101c + n * 0x40)
#define CHN_DATA_SRC_ADDR_LOW(n)	(0x161020 + n * 0x40)
#define CHN_DATA_DEST_ADDR_LOW(n)	(0x161024 + n * 0x40)


/*
chn 0:
  ADDRESS  |   VALUE
-----------+-----------0(at_cmd, TX)
INT:	0x40161000 | 0x11a  ------> tx_complete_int_en | rx_push_int_en | cfg_err_int_en | tx_pop_int_raw_status
TX_REQ:	0x40161004 | 0x0  -------->tx_req = 0
RX_REQ:	0x40161008 | 0x1 ---------> rx_req =1
CFG:	0x4016100c | 0x12000  -----> sem_value = 1, req_mode =linkmode
LEN:		0x40161010 | 0x1b00 0040 -->  rf_chn_eof |rx_intr | pause | done    28|27|25|24   len=[15,0]=40
PTR_HIGH:	0x40161014 | 0x800080 ---> 7|23    src|tx_next:    rx|tx|dst|src=CP0|AP80|CP0|AP80
TX_NEXT_LOW	0x40161018 | 0xd8000258 AP
RX_NEXT_LOW	0x4016101c | 0x4051c440 CP  //so AP:0x80 d800 0258;  CP:4051 c440
dat_src_addr_low:	0x40161020 | 0xd8019000 AP
dat_dest_addr_low:0x40161024 | 0x40516710 CP //SO AP:0x80 d801 9000; CP:40516710
0x40161028 | 0x0
0x4016102c | 0x0
0x40161030 | 0x0
0x40161034 | 0x0
0x40161038 | 0x0
0x4016103c | 0x0

  ADDRESS  |   VALUE
-----------+-----------1-BT TX
0x40161040 | 0x1a
0x40161044 | 0x0
0x40161048 | 0x1
0x4016104c | 0x12001
0x40161050 | 0xe20238a8
0x40161054 | 0x8ac6a2
0x40161058 | 0xe2a82eaa
0x4016105c | 0x40525d60
0x40161060 | 0xabc44e85
0x40161064 | 0xaa8f3aba
0x40161068 | 0x0
0x4016106c | 0x0
0x40161070 | 0x0
0x40161074 | 0x0
0x40161078 | 0x0
0x4016107c | 0x0

  ADDRESS  |   VALUE
-----------+----------- 1 (open bt)-TX
0x40161040 | 0x11a
0x40161044 | 0x0
0x40161048 | 0x0
0x4016104c | 0x2000
0x40161050 | 0x1b0000f8
0x40161054 | 0x800080
0x40161058 | 0xd800a518
0x4016105c | 0x40525d60
0x40161060 | 0xd801b000
0x40161064 | 0x40284000
0x40161068 | 0x0
0x4016106c | 0x0
0x40161070 | 0x0
0x40161074 | 0x0
0x40161078 | 0x0
0x4016107c | 0x0

  ADDRESS  |   VALUE
-----------+-----------2(RX)
0x40161080 | 0x1a
0x40161084 | 0x0
0x40161088 | 0x0
0x4016108c | 0x2081
0x40161090 | 0xfaeceaae
0x40161094 | 0x7a00bb98
0x40161098 | 0x40525cc0
0x4016109c | 0x2d1ea29b
0x401610a0 | 0x8fcbceaf
0x401610a4 | 0xaede2082
0x401610a8 | 0x0
0x401610ac | 0x0
0x401610b0 | 0x0
0x401610b4 | 0x0
0x401610b8 | 0x0
0x401610bc | 0x0

0x40161080 | 0x11a     ---2 (open bt) -RX
0x40161084 | 0x0
0x40161088 | 0x1
0x4016108c | 0x12080   bit7=1:rf_chn_dir=1, Cp is tx
0x40161090 | 0x1b000007  ---> rf_chn_eof |rx_intr | pause | done, len =7
0x40161094 | 0x80008000 ---> rx|tx|dst|src=AP80|CP0|AP80|CP0
0x40161098 | 0x40525cc0 --->TX
0x4016109c | 0xd800a308---> RX
0x401610a0 | 0x40288000---> src
0x401610a4 | 0xd801a000---> dst
0x401610a8 | 0x0
0x401610ac | 0x0
0x401610b0 | 0x0
0x401610b4 | 0x0
0x401610b8 | 0x0
0x401610bc | 0x0

  ADDRESS  |   VALUE
-----------+----------- 3
0x401610c0 | 0xa
0x401610c4 | 0x0
0x401610c8 | 0x0
0x401610cc | 0x0
0x401610d0 | 0x8082abac
0x401610d4 | 0xe2a1b069
0x401610d8 | 0xe3aaacb0
0x401610dc | 0x90c246a8
0x401610e0 | 0x35edea93
0x401610e4 | 0xca2feb19
0x401610e8 | 0x0
0x401610ec | 0x0
0x401610f0 | 0x0
0x401610f4 | 0x0
0x401610f8 | 0x0
0x401610fc | 0x0

  ADDRESS  |   VALUE
-----------+----------- 4
0x40161100 | 0x11a
0x40161104 | 0x0
0x40161108 | 0x1
0x4016110c | 0x22000
0x40161110 | 0x1b00000c
0x40161114 | 0x800081
0x40161118 | 0xd8003198
0x4016111c | 0x40522170
0x40161120 | 0x894d00
0x40161124 | 0x405d033c
0x40161128 | 0x0
0x4016112c | 0x0
0x40161130 | 0x0
0x40161134 | 0x0
0x40161138 | 0x0
0x4016113c | 0x0

  ADDRESS  |   VALUE
-----------+----------- 5
0x40161140 | 0x1a
0x40161144 | 0x0
0x40161148 | 0x0
0x4016114c | 0x2001
0x40161150 | 0xaa6a9e38
0x40161154 | 0x807c81
0x40161158 | 0xd8003228
0x4016115c | 0x40522360
0x40161160 | 0xabce273a
0x40161164 | 0xa1afa02a
0x40161168 | 0x0
0x4016116c | 0x0
0x40161170 | 0x0
0x40161174 | 0x0
0x40161178 | 0x0
0x4016117c | 0x0

  ADDRESS  |   VALUE
-----------+----------- 6
0x40161180 | 0x1a
0x40161184 | 0x0
0x40161188 | 0x0
0x4016118c | 0x2001
0x40161190 | 0xea2eee1f
0x40161194 | 0x8ecba2
0x40161198 | 0xbeaebaff
0x4016119c | 0x40525ea0
0x401611a0 | 0x2a82a3b8
0x401611a4 | 0xebe8a24
0x401611a8 | 0x0
0x401611ac | 0x0
0x401611b0 | 0x0
0x401611b4 | 0x0
0x401611b8 | 0x0
0x401611bc | 0x0

  ADDRESS  |   VALUE
-----------+-----------7
0x401611c0 | 0x11a
0x401611c4 | 0x0
0x401611c8 | 0x1
0x401611cc | 0xa2080
0x401611d0 | 0x1b000028
0x401611d4 | 0x80008100
0x401611d8 | 0x405222d0
0x401611dc | 0xd8000888
0x401611e0 | 0x405cf698
0x401611e4 | 0xb2180
0x401611e8 | 0x0
0x401611ec | 0x0
0x401611f0 | 0x0
0x401611f4 | 0x0
0x401611f8 | 0x0
0x401611fc | 0x0
0x40161200 | 0x1a-------8
0x40161204 | 0x0
0x40161208 | 0x0
0x4016120c | 0x2081
0x40161210 | 0x18a888f7
0x40161214 | 0xf9008eab
0x40161218 | 0x40525e00
0x4016121c | 0x8f46203e
0x40161220 | 0x6efa8a8a
0x40161224 | 0x9ee6ee00
0x40161228 | 0x0
0x4016122c | 0x0
0x40161230 | 0x0
0x40161234 | 0x0
0x40161238 | 0x0
0x4016123c | 0x0
0x40161240 | 0x11a ---9
0x40161244 | 0x0
0x40161248 | 0x1
0x4016124c | 0x642080
0x40161250 | 0x1b0001a8
0x40161254 | 0x80008000
0x40161258 | 0x40522520
0x4016125c | 0xd8001158
0x40161260 | 0x40318584
0x40161264 | 0xbdb4b300
0x40161268 | 0x0
0x4016126c | 0x0
0x40161270 | 0x0
0x40161274 | 0x0
0x40161278 | 0x0
0x4016127c | 0x0
0x40161280 | 0x11a ---------10
0x40161284 | 0x0
0x40161288 | 0x1
0x4016128c | 0x6 2000  TX+linkmode
0x40161290 | 0x1b00000c
0x40161294 | 0x800081
0x40161298 | 0xd80070f8
0x4016129c | 0x405226e0
0x401612a0 | 0x3fa6380
0x401612a4 | 0x4032f211
0x401612a8 | 0x0
0x401612ac | 0x0
0x401612b0 | 0x0
0x401612b4 | 0x0
0x401612b8 | 0x0
0x401612bc | 0x0
0x401612c0 | 0x11a -----11
0x401612c4 | 0x0
0x401612c8 | 0x1
0x401612cc | 0x64 2080       RX+linkmode
0x401612d0 | 0x1b000011
0x401612d4 | 0x80008100
0x401612d8 | 0x40522df0
0x401612dc | 0xd8002538
0x401612e0 | 0x4032e718
0x401612e4 | 0x22a08900
0x401612e8 | 0x0
0x401612ec | 0x0
0x401612f0 | 0x0
0x401612f4 | 0x0
0x401612f8 | 0x0
0x401612fc | 0x0
0x40161300 | 0x11a --------12
0x40161304 | 0x0
0x40161308 | 0x1
0x4016130c | 0x1 2080
0x40161310 | 0x1b000090
0x40161314 | 0x80008000
0x40161318 | 0x4051c5b0
0x4016131c | 0xd8000468
0x40161320 | 0x40516850
0x40161324 | 0xd8010000
0x40161328 | 0x0
0x4016132c | 0x0
0x40161330 | 0x0
0x40161334 | 0x0
0x40161338 | 0x0
0x4016133c | 0x0
0x40161340 | 0x11a--------------13
0x40161344 | 0x0
0x40161348 | 0x1
0x4016134c | 0x1 2080
0x40161350 | 0x1b000090
0x40161354 | 0x80008000
0x40161358 | 0x4051c710
0x4016135c | 0xd8000588
0x40161360 | 0x405167b0
0x40161364 | 0xd8011000
0x40161368 | 0x0
0x4016136c | 0x0
0x40161370 | 0x0
0x40161374 | 0x0
0x40161378 | 0x0
0x4016137c | 0x0
0x40161380 | 0x1a ------------14
0x40161384 | 0x0
0x40161388 | 0x1
0x4016138c | 0x1 2081
0x40161390 | 0x8a9c8dfe
0x40161394 | 0x80002ae9
0x40161398 | 0x40525c20
0x4016139c | 0xd80005b8
0x401613a0 | 0x20c929fe
0x401613a4 | 0x8af4b7ea
0x401613a8 | 0x0
0x401613ac | 0x0
0x401613b0 | 0x0
0x401613b4 | 0x0
0x401613b8 | 0x0
0x401613bc | 0x0
0x401613c0 | 0x11a  ---------15
0x401613c4 | 0x0
0x401613c8 | 0x1
0x401613cc | 0x6 2080      bit7=1, CP is tx,rf_chn_dir;   bit13=1,linkmode  [23,16]=sem value
0x401613d0 | 0x1b0005a0
0x401613d4 | 0x80008000
0x401613d8 | 0x4051de60
0x401613dc | 0xd8000768
0x401613e0 | 0x40560cf0
0x401613e4 | 0xd8013000
0x401613e8 | 0x0
0x401613ec | 0x0
0x401613f0 | 0x0
0x401613f4 | 0x0
0x401613f8 | 0x0
0x401613fc | 0x0
  ADDRESS  |   VALUE
-----------+--------------16
0x40161400 | 0xa
0x40161404 | 0x0
0x40161408 | 0x0
0x4016140c | 0x0
0x40161410 | 0xffbab07a
0x40161414 | 0xbcce3223
0x40161418 | 0x7e2a2c6e
0x4016141c | 0xfaa899ab
0x40161420 | 0x2a38a093
0x40161424 | 0xc95ff070
0x40161428 | 0x0
0x4016142c | 0x0
0x40161430 | 0x0
0x40161434 | 0x0
0x40161438 | 0x0
0x4016143c | 0x0
0x40161440 | 0xa
0x40161444 | 0x0
0x40161448 | 0x0
0x4016144c | 0x0
0x40161450 | 0xc9b8182f
0x40161454 | 0x4a029afa
0x40161458 | 0xe2acfebb
0x4016145c | 0x2e2b6033
0x40161460 | 0x26aa2ece
0x40161464 | 0x8bb70a99
0x40161468 | 0x0
0x4016146c | 0x0
0x40161470 | 0x0
0x40161474 | 0x0
0x40161478 | 0x0
0x4016147c | 0x0
0x40161480 | 0xa
0x40161484 | 0x0
0x40161488 | 0x0
0x4016148c | 0x0
0x40161490 | 0x6ae8a2ab
0x40161494 | 0xc192a2a3
0x40161498 | 0xf8c8ba76
0x4016149c | 0xaf9ac68a
0x401614a0 | 0xd247aba0
0x401614a4 | 0xf3b8cd84
0x401614a8 | 0x0
0x401614ac | 0x0
0x401614b0 | 0x0
0x401614b4 | 0x0
0x401614b8 | 0x0
0x401614bc | 0x0
0x401614c0 | 0xa
0x401614c4 | 0x0
0x401614c8 | 0x0
0x401614cc | 0x0
0x401614d0 | 0xfaaa8adb
0x401614d4 | 0x7e20d9ba
0x401614d8 | 0xbbb2a023
0x401614dc | 0x4baa06aa
0x401614e0 | 0xaa2f8ad9
0x401614e4 | 0xa938cbbe
0x401614e8 | 0x0
0x401614ec | 0x0
0x401614f0 | 0x0
0x401614f4 | 0x0
0x401614f8 | 0x0
0x401614fc | 0x0
0x40161500 | 0xa
0x40161504 | 0x0
0x40161508 | 0x0
0x4016150c | 0x0
0x40161510 | 0x3b67b6fa
0x40161514 | 0xca82c8b3
0x40161518 | 0x8caebcd3
0x4016151c | 0xe888fabb
0x40161520 | 0xeccfba2a
0x40161524 | 0xabdede22
0x40161528 | 0x0
0x4016152c | 0x0
0x40161530 | 0x0
0x40161534 | 0x0
0x40161538 | 0x0
0x4016153c | 0x0
0x40161540 | 0xa
0x40161544 | 0x0
0x40161548 | 0x0
0x4016154c | 0x0
0x40161550 | 0xb85a3eee
0x40161554 | 0xaac92b46
0x40161558 | 0x9afe0a0d
0x4016155c | 0xabe4ba8b
0x40161560 | 0x4ea796b2
0x40161564 | 0xa0e22d2a
0x40161568 | 0x0
0x4016156c | 0x0
0x40161570 | 0x0
0x40161574 | 0x0
0x40161578 | 0x0
0x4016157c | 0x0
0x40161580 | 0xa
0x40161584 | 0x0
0x40161588 | 0x0
0x4016158c | 0x0
0x40161590 | 0xe2f89b3f
0x40161594 | 0x3c6ed8db
0x40161598 | 0x8cba8f68
0x4016159c | 0xebab8323
0x401615a0 | 0x74aaaa3a
0x401615a4 | 0x226aa5a2
0x401615a8 | 0x0
0x401615ac | 0x0
0x401615b0 | 0x0
0x401615b4 | 0x0
0x401615b8 | 0x0
0x401615bc | 0x0
0x401615c0 | 0xa
0x401615c4 | 0x0
0x401615c8 | 0x0
0x401615cc | 0x0
0x401615d0 | 0x852ba6c0
0x401615d4 | 0xf338f4ff
0x401615d8 | 0x8fab8ff4
0x401615dc | 0xafbf6a13
0x401615e0 | 0xac8a09ae
0x401615e4 | 0xaabec3e1
0x401615e8 | 0x0
0x401615ec | 0x0
0x401615f0 | 0x0
0x401615f4 | 0x0
0x401615f8 | 0x0
0x401615fc | 0x0
0x40161600 | 0x0
0x40161604 | 0x0
0x40161608 | 0x0
0x4016160c | 0x0
0x40161610 | 0xac8a09ae
0x40161614 | 0xaabec3e1
0x40161618 | 0x0
0x4016161c | 0x0
0x40161620 | 0x0
0x40161624 | 0x0
0x40161628 | 0x0
0x4016162c | 0x0
0x40161630 | 0x0
0x40161634 | 0x0
0x40161638 | 0x0
0x4016163c | 0x0
0x40161640 | 0x0
0x40161644 | 0x0
0x40161648 | 0x0
0x4016164c | 0x0
0x40161650 | 0xac8a09ae
0x40161654 | 0xaabec3e1
0x40161658 | 0x0
0x4016165c | 0x0
0x40161660 | 0x0
0x40161664 | 0x0
0x40161668 | 0x0
0x4016166c | 0x0
0x40161670 | 0x0
0x40161674 | 0x0
0x40161678 | 0x0
0x4016167c | 0x0


*/

#endif
